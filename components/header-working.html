<!-- TOP BAR -->
<div class="topbar py-1 bg-white border-bottom">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between">
            <!-- Phone - LEFT side -->
            <span class="d-flex align-items-center">
                <i class="fas fa-phone-alt me-1"></i>
                <a href="tel:+919876543210" class="text-decoration-none">+91 98765 43210</a>
            </span>

            <!-- Trusted by top scorers - CENTER -->
            <span class="kicker d-inline-flex align-items-center">
                <i class="fa-solid fa-star me-1"></i> Trusted by top scorers
            </span>

            <!-- Email - RIGHT side -->
            <span class="d-flex align-items-center">
                <i class="fas fa-envelope me-1"></i>
                <a href="mailto:info@aranshieduhub.com" class="text-decoration-none">info@aranshieduhub.com</a>
            </span>
        </div>
    </div>
</div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
    <div class="container">
        <a class="navbar-brand fw-bold fs-4" href="index.html">
            <span style="color: var(--edu-navy);">Aranshi</span>
            <span style="color: var(--edu-green);">Education Hub</span>
        </a>

        <!-- Mobile Toggler -->
        <button class="navbar-toggler d-lg-none" type="button" id="mobileMenuToggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="mobileSidebar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Desktop Menu -->
        <div class="d-none d-lg-flex align-items-center ms-auto">
            <ul class="navbar-nav align-items-lg-center">
                <li class="nav-item"><a class="nav-link px-3" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="about.html">About Us</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle px-3" href="#" id="coursesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Courses</a>
                    <ul class="dropdown-menu" aria-labelledby="coursesDropdown">
                        <li><a class="dropdown-item" href="courses.html">All Courses</a></li>
                        <li><a class="dropdown-item" href="#">Science Stream</a></li>
                        <li><a class="dropdown-item" href="#">Commerce Stream</a></li>
                        <li><a class="dropdown-item" href="#">Competitive Exams</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link px-3" href="teachers.html">Teachers</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="events.html">Events</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="testimonials.html">Testimonials</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="contact.html">Contact</a></li>
            </ul>
            <a href="register.html" class="btn btn-join ms-3">Register Now</a>
        </div>
    </div>
</nav>

<!-- MOBILE SIDEBAR + BACKDROP -->
<div class="mobile-sidebar-backdrop d-lg-none" id="sidebarBackdrop"></div>

<aside class="mobile-sidebar d-lg-none" id="mobileSidebar" aria-hidden="true">
    <div class="mobile-sidebar-header">
        <div class="d-flex align-items-center justify-content-between p-3 border-bottom">
            <div class="mobile-sidebar-brand">
                <div style="font-size: 1.25rem;">
                    <span class="fw-bold" style="color: var(--edu-navy);">Aranshi</span><br>
                    <span style="color: var(--edu-navy); font-size: 0.9rem;">Education Hub</span>
                </div>
            </div>
            <button class="btn-close-sidebar" id="sidebarClose" aria-label="Close menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <div class="mobile-contact-section p-3 bg-light border-bottom">
        <div class="d-flex align-items-center mb-2">
            <i class="fas fa-phone-alt me-2" style="color: var(--edu-navy);"></i>
            <a href="tel:+919876543210" class="text-decoration-none" style="color: var(--edu-ink);">+91 98765 43210</a>
        </div>
        <div class="d-flex align-items-center">
            <i class="fas fa-envelope me-2" style="color: var(--edu-navy);"></i>
            <a href="mailto:info@aranshieduhub.com" class="text-decoration-none" style="color: var(--edu-ink);">info@aranshieduhub.com</a>
        </div>
    </div>

    <ul class="navbar-nav p-3">
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="courses.html">Courses</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="teachers.html">Teachers</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="events.html">Events</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="testimonials.html">Testimonials</a></li>
        <li class="nav-item"><a class="nav-link py-3 fw-500" href="contact.html">Contact</a></li>
    </ul>

    <div class="mobile-bottom-contact p-3 border-top mt-auto">
        <div class="d-flex align-items-center mb-2">
            <i class="fas fa-phone-alt me-2" style="color: var(--edu-navy);"></i>
            <a href="tel:+919876523210" class="text-decoration-none" style="color: var(--edu-ink);">+91 98765 2310</a>
        </div>
        <div class="d-flex align-items-center">
            <i class="fas fa-envelope me-2" style="color: var(--edu-navy);"></i>
            <a href="mailto:info@aranshieduhub.com" class="text-decoration-none" style="color: var(--edu-ink);">info@aranshieduhub.com</a>
        </div>
    </div>
</aside>

<script>
(function() {
    window.initializeHeader = function() {
        console.log('=== Header Initialization Started ===');

        const current = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
        document.querySelectorAll('.navbar .nav-link, .mobile-sidebar .nav-link').forEach(link => {
            const href = (link.getAttribute('href') || '').split('/').pop().toLowerCase();
            if (href === current) link.classList.add('active');
        });

        const toggleBtn = document.getElementById('mobileMenuToggle');
        const sidebar = document.getElementById('mobileSidebar');
        const backdrop = document.getElementById('sidebarBackdrop');
        const closeBtn = document.getElementById('sidebarClose');

        console.log('Elements:', {
            toggleBtn: !!toggleBtn,
            sidebar: !!sidebar,
            backdrop: !!backdrop,
            closeBtn: !!closeBtn
        });

        function openSidebar() {
            console.log('OPENING SIDEBAR');
            if (sidebar && backdrop) {
                sidebar.classList.add('show');
                backdrop.classList.add('show');
                if (toggleBtn) toggleBtn.setAttribute('aria-expanded', 'true');
                sidebar.setAttribute('aria-hidden', 'false');
                document.body.classList.add('no-scroll');
            }
        }

        function closeSidebar() {
            console.log('CLOSING SIDEBAR');
            if (sidebar && backdrop) {
                sidebar.classList.remove('show');
                backdrop.classList.remove('show');
                if (toggleBtn) toggleBtn.setAttribute('aria-expanded', 'false');
                sidebar.setAttribute('aria-hidden', 'true');
                document.body.classList.remove('no-scroll');
            }
        }

        if (toggleBtn) {
            toggleBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log('!!! HAMBURGER CLICKED !!!');
                if (sidebar && sidebar.classList.contains('show')) {
                    closeSidebar();
                } else {
                    openSidebar();
                }
            });
            console.log('✓ Click listener added to hamburger');
        } else {
            console.error('✗ Toggle button NOT FOUND!');
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', closeSidebar);
            console.log('✓ Close button listener added');
        }

        if (backdrop) {
            backdrop.addEventListener('click', closeSidebar);
            console.log('✓ Backdrop listener added');
        }

        if (sidebar) {
            sidebar.querySelectorAll('a.nav-link').forEach(link => {
                link.addEventListener('click', closeSidebar);
            });
            console.log('✓ Link listeners added');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && sidebar && sidebar.classList.contains('show')) {
                closeSidebar();
            }
        });

        console.log('=== Header Initialization COMPLETE ===');
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', window.initializeHeader);
    } else {
        setTimeout(window.initializeHeader, 100);
    }
})();
</script>

