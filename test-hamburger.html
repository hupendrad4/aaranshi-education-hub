<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamburger Menu Test - Aranshi Education Hub</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Header CSS -->
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/global.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        :root {
            --edu-bg: #A8E9F0;
            --edu-navy: #004B63;
            --edu-green: #22B573;
            --edu-ink: #0a2f3d;
            --edu-muted: #5c7d88;
            --transition: all .25s ease;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #f7fbfc;
        }

        .test-container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .test-result {
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid var(--edu-green);
            background: #f8f9fa;
        }

        .console-log {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 10px 0;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- Header will be loaded here -->
    <div id="header"></div>

    <!-- Test Content -->
    <div class="test-container">
        <h1 style="color: var(--edu-navy); margin-bottom: 30px;">
            <i class="fas fa-bug"></i> Hamburger Menu - Test Page
        </h1>

        <div class="test-result">
            <h3><i class="fas fa-check-circle" style="color: var(--edu-green);"></i> Testing Instructions:</h3>
            <ol>
                <li><strong>Resize browser</strong> to mobile width (<992px) or press F12 and toggle device toolbar</li>
                <li><strong>Click the hamburger icon</strong> (☰) in the top right</li>
                <li><strong>Check the console</strong> below for debug messages</li>
                <li><strong>Expected:</strong> Sidebar should slide in from left with dark backdrop</li>
            </ol>
        </div>

        <div class="test-result">
            <h3><i class="fas fa-terminal"></i> Console Output:</h3>
            <div class="console-log" id="console-output">
                Waiting for header to load...
            </div>
        </div>

        <div class="test-result">
            <h3><i class="fas fa-info-circle"></i> What to Look For:</h3>
            <ul>
                <li>✓ "Header Initialization Started"</li>
                <li>✓ "Elements: { toggleBtn: true, sidebar: true, ... }"</li>
                <li>✓ "Click listener added to hamburger"</li>
                <li>✓ "Header Initialization COMPLETE"</li>
                <li>✓ When clicking: "!!! HAMBURGER CLICKED !!!"</li>
                <li>✓ When clicking: "OPENING SIDEBAR"</li>
            </ul>
        </div>

        <div class="test-result">
            <h3><i class="fas fa-question-circle"></i> If It Doesn't Work:</h3>
            <ul>
                <li>1. Do a HARD REFRESH: <code>Ctrl+Shift+R</code> (Windows) or <code>Cmd+Shift+R</code> (Mac)</li>
                <li>2. Check browser console (F12 → Console tab) for errors</li>
                <li>3. Make sure you're in mobile view (<992px width)</li>
                <li>4. Try incognito/private browsing mode</li>
            </ul>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Load Header -->
    <script>
        const consoleOutput = document.getElementById('console-output');
        const originalLog = console.log;
        const originalError = console.error;

        function addToConsole(message, isError = false) {
            const line = document.createElement('div');
            line.style.color = isError ? '#ff4444' : '#00ff00';
            line.textContent = '> ' + message;
            consoleOutput.appendChild(line);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        console.log = function(...args) {
            originalLog.apply(console, args);
            addToConsole(args.join(' '));
        };

        console.error = function(...args) {
            originalError.apply(console, args);
            addToConsole(args.join(' '), true);
        };

        $(function() {
            console.log('jQuery ready, loading header...');

            $("#header").load("components/header.html", function(response, status, xhr) {
                if (status === "error") {
                    console.error("Header load failed: " + xhr.status + " " + xhr.statusText);
                } else {
                    console.log("Header HTML loaded successfully");

                    // Call initializeHeader if it exists
                    if (typeof window.initializeHeader === 'function') {
                        console.log("Calling initializeHeader()...");
                        window.initializeHeader();
                    } else {
                        console.error("initializeHeader function not found!");
                    }
                }
            });
        });
    </script>
</body>
</html>

